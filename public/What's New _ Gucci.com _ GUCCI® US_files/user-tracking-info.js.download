"use-strict";define(["jquery","ajaxConfig","eventDispatcher","genericUtilities","gtmUtilities","gtmSocialSignIn"],function(e,n,t,i,o,a){function c(e,n,t){o.GTMMyAccountTrackUserLoggedEvent("myAccount.trackUserLogged","my account","track user logged","",e,e.is_logged||!1),localStorage.setItem(n,t)}function r(){e.each(window.dataLayer,function(e,n){"undefined"!=typeof n.is_logged&&"undefined"!=typeof n.uuid&&(s=!0)}),s||i.waitForCSRF(function(){e.ajax({url:u,data:{cachekill:Math.floor(101*Math.random())*(new Date).getTime()},success:function(e){window.dataLayer.push(e);var n="user_info",t=JSON.stringify(e);c(e,n,t);var i=!!e.is_logged;if(i===!0){var o=new Event("userLogIn");document.dispatchEvent(o)}else localStorage.removeItem(n);a.checkSocialUser(i)},error:function(){}})})}var u=n.config["USER-TRACKING-INFO"],s=!1;return{load:function(){function e(){}r(),t.dispatchAndListen("userTrackingInfo",e)}}});