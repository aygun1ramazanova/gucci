define(["jquery","eventDispatcher","formEndpointValidation","ajaxConfig","overlay","handlebars"],function(e,t,a,n,o,i){function s(){v.prop("action",g),e(".recover-account",".sign-in-overlay").on("click",l),a.newInstance(v,r),e("#suggestedEmails").on("click",".button-copy-email",d)}function l(){p.data("redirect-url")&&(h=p.data("redirect-url"),v.find('input[name="referer"]').val(h)),p.data("save-item")&&(E=p.data("save-item"),v.find('input[name="productCode"]').val(E)),p.data("shopping-bag")&&(C=p.data("shopping-bag"),v.find('input[name="cartEntryNumber"]').val(C))}function d(t){t.preventDefault();var a=e(this).data("email");e(".input-login-email").val(a)}function u(t,a,n){var t=e(t).html(),o=i.compile(t),a=a;e(n).html(o(a)),e("#suggestedEmailsNotFound").addClass("hide"),e("#suggestedEmails").removeClass("hide"),e(".new-account-default-text").addClass("hide")}function c(){e("#suggestedEmails").addClass("hide"),e("#suggestedEmailsNotFound").removeClass("hide")}function r(t){if("ok"!=t.status)return null!=t.suggestedEmails&&t.suggestedEmails.length>0?u("#suggestedEmailsTemplate",t,"#suggestedEmails .emails-list"):(e(".new-account-default-text").addClass("hide"),c()),o.close("#forgot-account-overlay"),t;if(null==t.suggestedEmails)var a=0;else var a=t.suggestedEmails;window.location=hybris.contextPath+m+"?suggestedEmails="+a}var g=n.config["FORGOT-ACCOUNT-ENDPOINT"],m="/signIn",f=".forgot-account-overlay",v=(e(".forgot-account-overlay-main-content",f),e(".forgot-account-form",f)),p=(e("#forgot-account-form"),e("#form-create-account")),h="",E="",C="";return{load:function(){function e(){}s(),t.dispatchAndListen("forgotAccount",e)}}});